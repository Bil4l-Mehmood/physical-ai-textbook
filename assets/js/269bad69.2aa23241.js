"use strict";(self.webpackChunkphysical_ai_textbook=self.webpackChunkphysical_ai_textbook||[]).push([[590],{1172:function(e,s,r){r.r(s),r.d(s,{assets:function(){return d},contentTitle:function(){return c},default:function(){return a},frontMatter:function(){return o},metadata:function(){return n},toc:function(){return t}});var n=JSON.parse('{"id":"chapter-1/examples/README","title":"Chapter 1: Code Examples","description":"This directory contains executable code examples for all Chapter 1 lessons.","source":"@site/docs/chapter-1/examples/README.md","sourceDirName":"chapter-1/examples","slug":"/chapter-1/examples/","permalink":"/physical-ai-textbook/docs/chapter-1/examples/","draft":false,"unlisted":false,"editUrl":"https://github.com/Bil4l-Mehmood/physical-ai-textbook/edit/main/docs/chapter-1/examples/README.md","tags":[],"version":"current","frontMatter":{}}'),i=r(4848),l=r(8453);const o={},c="Chapter 1: Code Examples",d={},t=[{value:"Files by Lesson",id:"files-by-lesson",level:2},{value:"Lesson 1.2: ROS 2 Core Concepts",id:"lesson-12-ros-2-core-concepts",level:3},{value:"Lesson 1.4: URDF/XACRO Basics",id:"lesson-14-urdfxacro-basics",level:3},{value:"Quick Start Guide",id:"quick-start-guide",level:2},{value:"ROS 2 Publisher/Subscriber Examples",id:"ros-2-publishersubscriber-examples",level:3},{value:"URDF/XACRO Examples",id:"urdfxacro-examples",level:3},{value:"File Descriptions",id:"file-descriptions",level:2},{value:"ros2_publisher.py",id:"ros2_publisherpy",level:3},{value:"ros2_subscriber.py",id:"ros2_subscriberpy",level:3},{value:"simple_robot.urdf",id:"simple_roboturdf",level:3},{value:"simple_robot.urdf.xacro",id:"simple_roboturdfxacro",level:3},{value:"humanoid_leg.urdf.xacro",id:"humanoid_legurdfxacro",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Lesson 1.2 Exercises",id:"lesson-12-exercises",level:3},{value:"Lesson 1.4 Exercises",id:"lesson-14-exercises",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Hardware",id:"hardware",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"chapter-1-code-examples",children:"Chapter 1: Code Examples"})}),"\n",(0,i.jsx)(s.p,{children:"This directory contains executable code examples for all Chapter 1 lessons."}),"\n",(0,i.jsx)(s.h2,{id:"files-by-lesson",children:"Files by Lesson"}),"\n",(0,i.jsx)(s.h3,{id:"lesson-12-ros-2-core-concepts",children:"Lesson 1.2: ROS 2 Core Concepts"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"ros2_publisher.py"})})," - Simple ROS 2 publisher (String messages to ",(0,i.jsx)(s.code,{children:"topic"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"ros2_subscriber.py"})})," - Simple ROS 2 subscriber (listens to ",(0,i.jsx)(s.code,{children:"topic"}),")"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"lesson-14-urdfxacro-basics",children:"Lesson 1.4: URDF/XACRO Basics"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"simple_robot.urdf"})})," - Basic 2-link robot in pure URDF format"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"simple_robot.urdf.xacro"})})," - Same robot with XACRO properties and macros"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"humanoid_leg.urdf.xacro"})})," - Parameterized 3-DOF humanoid leg (hip, knee, ankle)"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"quick-start-guide",children:"Quick Start Guide"}),"\n",(0,i.jsx)(s.h3,{id:"ros-2-publishersubscriber-examples",children:"ROS 2 Publisher/Subscriber Examples"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Terminal 1 - Source ROS 2 and Run Publisher"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\npython3 ros2_publisher.py\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Terminal 2 - Source ROS 2 and Run Subscriber"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\npython3 ros2_subscriber.py\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Terminal 3 - Monitor Topic"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\nros2 topic echo /topic\n"})}),"\n",(0,i.jsx)(s.p,{children:"Expected output (Terminal 1):"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [minimal_publisher]: Publishing: "Hello ROS 2: 0"\n[INFO] [minimal_publisher]: Publishing: "Hello ROS 2: 1"\n'})}),"\n",(0,i.jsx)(s.p,{children:"Expected output (Terminal 2):"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [minimal_subscriber]: Heard: "Hello ROS 2: 0"\n[INFO] [minimal_subscriber]: Heard: "Hello ROS 2: 1"\n'})}),"\n",(0,i.jsx)(s.h3,{id:"urdfxacro-examples",children:"URDF/XACRO Examples"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Test URDF Syntax"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Check for parsing errors\nurdf_parser simple_robot.urdf\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Convert XACRO to URDF"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Process XACRO file\nxacro simple_robot.urdf.xacro > simple_robot_generated.urdf\n\n# Create humanoid leg variants\nxacro humanoid_leg.urdf.xacro leg_side:=right > humanoid_leg_right.urdf\nxacro humanoid_leg.urdf.xacro leg_side:=left > humanoid_leg_left.urdf\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Visualize Robot Structure"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Generate dot file showing kinematic chain\nurdf_to_graphviz simple_robot.urdf > robot_structure.dot\n\n# Convert to SVG (requires graphviz)\ndot -Tsvg robot_structure.dot > robot_structure.svg\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"View in RViz"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Terminal 1: Launch RViz\nros2 run rviz2 rviz2\n\n# Terminal 2: Publish robot description and state\nros2 run robot_state_publisher robot_state_publisher \\\n  --ros-args -p robot_description:="$(xacro simple_robot.urdf.xacro)"\n'})}),"\n",(0,i.jsx)(s.h2,{id:"file-descriptions",children:"File Descriptions"}),"\n",(0,i.jsx)(s.h3,{id:"ros2_publisherpy",children:"ros2_publisher.py"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Node name: ",(0,i.jsx)(s.code,{children:"minimal_publisher"})]}),"\n",(0,i.jsxs)(s.li,{children:["Publishes to: ",(0,i.jsx)(s.code,{children:"topic"})," (String messages)"]}),"\n",(0,i.jsx)(s.li,{children:"Rate: Every 0.5 seconds"}),"\n",(0,i.jsxs)(s.li,{children:["Message format: ",(0,i.jsx)(s.code,{children:"Hello ROS 2: {counter}"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"ros2_subscriberpy",children:"ros2_subscriber.py"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Node name: ",(0,i.jsx)(s.code,{children:"minimal_subscriber"})]}),"\n",(0,i.jsxs)(s.li,{children:["Subscribes to: ",(0,i.jsx)(s.code,{children:"topic"})]}),"\n",(0,i.jsx)(s.li,{children:"Callback: Logs each received message"}),"\n",(0,i.jsxs)(s.li,{children:["Message format: ",(0,i.jsx)(s.code,{children:"Heard: {message data}"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"simple_roboturdf",children:"simple_robot.urdf"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Pure URDF format (no preprocessing)"}),"\n",(0,i.jsx)(s.li,{children:"3 links: base_link (box), link_1 (cylinder), link_2 (cylinder)"}),"\n",(0,i.jsx)(s.li,{children:"2 joints: joint_1 (revolute), joint_2 (revolute)"}),"\n",(0,i.jsx)(s.li,{children:"Joint limits: \xb190\xb0 (\xb11.5708 radians)"}),"\n",(0,i.jsx)(s.li,{children:"Demonstrates: Basic URDF structure"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"simple_roboturdfxacro",children:"simple_robot.urdf.xacro"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Same robot as simple_robot.urdf"}),"\n",(0,i.jsx)(s.li,{children:"Uses XACRO properties for parameters"}),"\n",(0,i.jsxs)(s.li,{children:["Includes ",(0,i.jsx)(s.code,{children:"arm_segment"})," macro for code reuse"]}),"\n",(0,i.jsx)(s.li,{children:"Demonstrates: XACRO features (properties, macros, math)"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"humanoid_legurdfxacro",children:"humanoid_leg.urdf.xacro"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"4 links: hip, thigh, calf, foot"}),"\n",(0,i.jsx)(s.li,{children:"3 joints: hip_knee, knee_ankle, ankle_foot"}),"\n",(0,i.jsxs)(s.li,{children:["Parameterized: ",(0,i.jsx)(s.code,{children:"leg_side"})," argument (right/left)"]}),"\n",(0,i.jsx)(s.li,{children:"Dimensions: Thigh/calf ~0.3m, foot ~0.15m"}),"\n",(0,i.jsx)(s.li,{children:"Demonstrates: Parameterized XACRO models"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Python 3.10+"})}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"ROS 2 Humble"})," (with rclpy and robot_state_publisher)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"URDF tools"}),": ",(0,i.jsx)(s.code,{children:"sudo apt install ros-humble-urdf-parser"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Optional"}),": RViz 2 for visualization"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsx)(s.h3,{id:"lesson-12-exercises",children:"Lesson 1.2 Exercises"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Modify message format"}),": Change ",(0,i.jsx)(s.code,{children:"msg.data"})," in publisher (try timestamps)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Change topic name"}),": Update both publisher and subscriber to ",(0,i.jsx)(s.code,{children:"/my_messages"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Change publish rate"}),": Modify ",(0,i.jsx)(s.code,{children:"timer_period"})," (try 0.1 or 2.0 seconds)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Multiple subscribers"}),": Run several subscriber instances simultaneously"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Monitor with CLI"}),": Use ",(0,i.jsx)(s.code,{children:"ros2 topic list"}),", ",(0,i.jsx)(s.code,{children:"ros2 node list"}),", ",(0,i.jsx)(s.code,{children:"ros2 topic info"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"lesson-14-exercises",children:"Lesson 1.4 Exercises"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Expand simple_robot"}),": Add a third link and joint using the macro pattern"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Create robot variants"}),": Use XACRO ",(0,i.jsx)(s.code,{children:"${...}"})," expressions to create 2, 3, and 4 DOF versions"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Modify humanoid_leg"}),": Change thigh/calf lengths and regenerate both legs"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Add geometry"}),": Create a humanoid arm using the same pattern"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Collision testing"}),": Load into Gazebo and test contact dynamics"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Problem"}),(0,i.jsx)(s.th,{children:"Cause"}),(0,i.jsx)(s.th,{children:"Solution"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ModuleNotFoundError: rclpy"})}),(0,i.jsx)(s.td,{children:"ROS 2 not sourced"}),(0,i.jsxs)(s.td,{children:["Run ",(0,i.jsx)(s.code,{children:"source /opt/ros/humble/setup.bash"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"URDF parse error"})}),(0,i.jsx)(s.td,{children:"Malformed XML"}),(0,i.jsx)(s.td,{children:"Check closing tags and element names"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"xacro: command not found"})}),(0,i.jsx)(s.td,{children:"XACRO not installed"}),(0,i.jsxs)(s.td,{children:["Install with ",(0,i.jsx)(s.code,{children:"apt install ros-humble-xacro"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"urdf_parser: command not found"})}),(0,i.jsx)(s.td,{children:"Parser not installed"}),(0,i.jsxs)(s.td,{children:["Install with ",(0,i.jsx)(s.code,{children:"apt install ros-humble-urdf-parser"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Subscriber doesn't receive"}),(0,i.jsx)(s.td,{children:"Topic names mismatch"}),(0,i.jsx)(s.td,{children:"Verify exact topic name (case-sensitive)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:'"undefined reference to link"'}),(0,i.jsx)(s.td,{children:"Joint references missing link"}),(0,i.jsx)(s.td,{children:"Check all link names in joint definitions"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"hardware",children:"Hardware"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Tested on"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"NVIDIA Jetson Orin Nano with ROS 2 Humble"}),"\n",(0,i.jsx)(s.li,{children:"Ubuntu 22.04 x86_64 with ROS 2 Humble (for development)"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Lesson 1.3"}),": Package these examples into reusable ROS 2 packages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Lesson 1.4"}),": Create complex robot models using URDF and XACRO"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Chapter 2"}),": Load robot models into Isaac Sim for physics simulation"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/physical-ai-textbook/docs/chapter-1/1-2-ros2-core",children:"Lesson 1.2: ROS 2 Core Concepts"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/physical-ai-textbook/docs/chapter-1/1-3-rclpy-packages",children:"Lesson 1.3: rclpy Packages & Launch Files"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/physical-ai-textbook/docs/chapter-1/1-4-urdf-xacro",children:"Lesson 1.4: URDF/XACRO Basics"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/",children:"ROS 2 Humble Documentation"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"http://wiki.ros.org/urdf/Tutorials",children:"URDF Tutorial"})}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:function(e,s,r){r.d(s,{R:function(){return o},x:function(){return c}});var n=r(6540);const i={},l=n.createContext(i);function o(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);